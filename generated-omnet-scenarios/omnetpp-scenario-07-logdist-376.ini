[General]
network = flora.simulations.LoRaNetworkTest
sim-time-limit = 400min           # 400 minutes for propagation
simtime-resolution = -11
repeat = 1

# Output - will be overridden by generator
output-vector-file = ../results/scenario-07-baseline-logdist-376-s${runnumber}.vec
output-scalar-file = ../results/scenario-07-baseline-logdist-376-s${runnumber}.sca
**.vector-recording = true

# RNG
rng-class = "cMersenneTwister"

#================================================================================
# NETWORK TOPOLOGY & COUNTS
#================================================================================
**.numberOfNodes = 50
**.numberOfGateways = 1
# Area (constraint area adjusted to match CSV coordinate ranges)
**.constraintAreaMinX = -5676.26m
**.constraintAreaMinY = -5207.1m
**.constraintAreaMinZ = 0m
**.constraintAreaMaxX = 5142.64m
**.constraintAreaMaxY = 5128.59m
**.constraintAreaMaxZ = 20m

# Mobility/placement flags
**.loRaNodes[*].**.initFromDisplayString = false
**.loRaGW[*].**.initFromDisplayString = false

#================================================================================
# PHY / CHANNEL CONFIGURATION
#================================================================================
**.radio.radioMediumModule = "LoRaMedium"
**.LoRaMedium.pathLossType = "LoRaLogNormalShadowing"
**.sigma = 4.5                      # Propagation Model Comparison across different path loss models - sigma 4.5dB
**.minInterferenceTime = 0s
**.alohaChannelModel = false
**.energyDetection = -110dBm
**.maxTransmissionDuration = 4s
LoRaNetworkTest.**.radio.separateTransmissionParts = false
LoRaNetworkTest.**.radio.separateReceptionParts = false

#================================================================================
# GATEWAY CONFIGURATION
#================================================================================
**.LoRaGWNic.radio.iAmGateway = true
**.loRaGW[*].numUdpApps = 1
**.loRaGW[0].packetForwarder.localPort = 2000
**.loRaGW[0].packetForwarder.destPort = 1000
**.loRaGW[0].packetForwarder.destAddresses = "networkServer"
**.loRaGW[0].packetForwarder.indexNumber = 0

#================================================================================
# NETWORK SERVER CONFIGURATION - WILL BE OVERRIDDEN BY GENERATOR
#================================================================================
**.networkServer.numApps = 1
**.networkServer.app[0].typename = "NetworkServerApp"
**.networkServer.app[0].destAddresses = "loRaGW[0]"
**.networkServer.app[0].destPort = 2000
**.networkServer.app[0].localPort = 1000

# ADR Configuration - DEFAULT (will be overridden per sub-scenario)
**.networkServer.**.evaluateADRinServer = false
#================================================================================
# NODE RADIO CONFIGURATION - SCENARIO 07 DEFAULTS
#================================================================================
# Default radio parameters: SF10, 14dBm, 125kHz, CR4/5
# disabled by sub-scenario: **.loRaNodes[*].**initialLoRaSF = 10
**.loRaNodes[*].**initialLoRaBW = 125 kHz
**.loRaNodes[*].**initialLoRaCR = 4
# disabled by sub-scenario: **.loRaNodes[*].**initialLoRaTP = 14dBm
**.loRaNodes[*].**.evaluateADRinNode = false
#================================================================================
# APPLICATION CONFIGURATION - SCENARIO 07 SPECIFIC
#================================================================================
**.loRaNodes[*].numApps = 1
**.loRaNodes[*].app[0].typename = "SimpleLoRaApp"

# Packet configuration for propagation (600s intervals)
**.numberOfPacketsToSend = 0                      # infinite packets 
**.timeToFirstPacket = uniform(1s, 10s)           # spread first transmissions
**.timeToNextPacket = 600s                        # send every 10 minutes (matches ns-3)

#================================================================================
# OPTIONAL MODULES (ENERGY & DELAYS)
#================================================================================
**.ipv4Delayer.config = xmldoc("../cloudDelays.xml")
**.loRaNodes[*].LoRaNic.radio.energyConsumer.typename = "LoRaEnergyConsumer"
**.loRaNodes[*].**.energySourceModule = "^.IdealEpEnergyStorage"
**.loRaNodes[*].LoRaNic.radio.energyConsumer.configFile = xmldoc("../energyConsumptionParameters.xml")

#================================================================================
# NODE POSITIONS - LOADED FROM POSITION FILE
#================================================================================
# GATEWAY POSITIONS
#==================================================
**.loRaGW[0].**.initialX = 0.00m
**.loRaGW[0].**.initialY = 0.00m
**.loRaGW[0].**.initialZ = 15.0m

# END DEVICE POSITIONS
#==================================================
**.loRaNodes[0].**.initialX = 1262.34m
**.loRaNodes[0].**.initialY = -202.17m
**.loRaNodes[0].**.initialZ = 1.5m
**.loRaNodes[1].**.initialX = 51.88m
**.loRaNodes[1].**.initialY = -1368.08m
**.loRaNodes[1].**.initialZ = 1.5m
**.loRaNodes[2].**.initialX = 1629.73m
**.loRaNodes[2].**.initialY = 4227.01m
**.loRaNodes[2].**.initialZ = 1.5m
**.loRaNodes[3].**.initialX = -2747.80m
# Nodes 10 - 19
**.loRaNodes[3].**.initialY = -2306.61m
**.loRaNodes[3].**.initialZ = 1.5m
**.loRaNodes[4].**.initialX = -3516.47m
**.loRaNodes[4].**.initialY = -1620.29m
**.loRaNodes[4].**.initialZ = 1.5m
**.loRaNodes[5].**.initialX = 946.61m
**.loRaNodes[5].**.initialY = 3631.54m
**.loRaNodes[5].**.initialZ = 1.5m
**.loRaNodes[6].**.initialX = 359.67m
**.loRaNodes[6].**.initialY = 5.13m
# Nodes 20 - 29
**.loRaNodes[6].**.initialZ = 1.5m
**.loRaNodes[7].**.initialX = 3237.65m
**.loRaNodes[7].**.initialY = 2531.74m
**.loRaNodes[7].**.initialZ = 1.5m
**.loRaNodes[8].**.initialX = -1437.43m
**.loRaNodes[8].**.initialY = -1525.89m
**.loRaNodes[8].**.initialZ = 1.5m
**.loRaNodes[9].**.initialX = 2071.63m
**.loRaNodes[9].**.initialY = -4305.53m
**.loRaNodes[9].**.initialZ = 1.5m
# Nodes 30 - 39
**.loRaNodes[10].**.initialX = -3253.30m
**.loRaNodes[10].**.initialY = 2452.07m
**.loRaNodes[10].**.initialZ = 1.5m
**.loRaNodes[11].**.initialX = 1456.53m
**.loRaNodes[11].**.initialY = 781.37m
**.loRaNodes[11].**.initialZ = 1.5m
**.loRaNodes[12].**.initialX = -4774.68m
**.loRaNodes[12].**.initialY = -978.58m
**.loRaNodes[12].**.initialZ = 1.5m
**.loRaNodes[13].**.initialX = -288.43m
# Nodes 40 - 49
**.loRaNodes[13].**.initialY = -3747.78m
**.loRaNodes[13].**.initialZ = 1.5m
**.loRaNodes[14].**.initialX = 212.29m
**.loRaNodes[14].**.initialY = -471.95m
**.loRaNodes[14].**.initialZ = 1.5m
**.loRaNodes[15].**.initialX = -2324.27m
**.loRaNodes[15].**.initialY = -1829.95m
**.loRaNodes[15].**.initialZ = 1.5m
**.loRaNodes[16].**.initialX = 1724.22m
**.loRaNodes[16].**.initialY = -2193.37m
# Nodes 50 - 59
**.loRaNodes[16].**.initialZ = 1.5m
**.loRaNodes[17].**.initialX = 4072.15m
**.loRaNodes[17].**.initialY = 2601.30m
**.loRaNodes[17].**.initialZ = 1.5m
**.loRaNodes[18].**.initialX = 4241.07m
**.loRaNodes[18].**.initialY = -1162.99m
**.loRaNodes[18].**.initialZ = 1.5m
**.loRaNodes[19].**.initialX = 2414.87m
**.loRaNodes[19].**.initialY = 49.12m
**.loRaNodes[19].**.initialZ = 1.5m
# Nodes 60 - 69
**.loRaNodes[20].**.initialX = -100.37m
**.loRaNodes[20].**.initialY = 106.85m
**.loRaNodes[20].**.initialZ = 1.5m
**.loRaNodes[21].**.initialX = -71.35m
**.loRaNodes[21].**.initialY = 3179.50m
**.loRaNodes[21].**.initialZ = 1.5m
**.loRaNodes[22].**.initialX = -10.14m
**.loRaNodes[22].**.initialY = -344.35m
**.loRaNodes[22].**.initialZ = 1.5m
**.loRaNodes[23].**.initialX = -1039.12m
# Nodes 70 - 79
**.loRaNodes[23].**.initialY = 1647.36m
**.loRaNodes[23].**.initialZ = 1.5m
**.loRaNodes[24].**.initialX = 2384.67m
**.loRaNodes[24].**.initialY = -4304.47m
**.loRaNodes[24].**.initialZ = 1.5m
**.loRaNodes[25].**.initialX = -136.59m
**.loRaNodes[25].**.initialY = -66.55m
**.loRaNodes[25].**.initialZ = 1.5m
**.loRaNodes[26].**.initialX = -885.87m
**.loRaNodes[26].**.initialY = 633.79m
# Nodes 80 - 89
**.loRaNodes[26].**.initialZ = 1.5m
**.loRaNodes[27].**.initialX = 1498.99m
**.loRaNodes[27].**.initialY = 2536.25m
**.loRaNodes[27].**.initialZ = 1.5m
**.loRaNodes[28].**.initialX = -644.40m
**.loRaNodes[28].**.initialY = -893.05m
**.loRaNodes[28].**.initialZ = 1.5m
**.loRaNodes[29].**.initialX = -650.57m
**.loRaNodes[29].**.initialY = 765.61m
**.loRaNodes[29].**.initialZ = 1.5m
# Nodes 90 - 99
**.loRaNodes[30].**.initialX = -3826.76m
**.loRaNodes[30].**.initialY = -2585.13m
**.loRaNodes[30].**.initialZ = 1.5m
**.loRaNodes[31].**.initialX = -998.22m
**.loRaNodes[31].**.initialY = -3463.74m
**.loRaNodes[31].**.initialZ = 1.5m
**.loRaNodes[32].**.initialX = 197.16m
**.loRaNodes[32].**.initialY = 1119.57m
**.loRaNodes[32].**.initialZ = 1.5m
**.loRaNodes[33].**.initialX = -1748.96m
# Nodes 100 - 109
**.loRaNodes[33].**.initialY = 2527.00m
**.loRaNodes[33].**.initialZ = 1.5m
**.loRaNodes[34].**.initialX = -1443.54m
**.loRaNodes[34].**.initialY = -937.10m
**.loRaNodes[34].**.initialZ = 1.5m
**.loRaNodes[35].**.initialX = 66.33m
**.loRaNodes[35].**.initialY = 153.75m
**.loRaNodes[35].**.initialZ = 1.5m
**.loRaNodes[36].**.initialX = 3745.34m
**.loRaNodes[36].**.initialY = -1949.36m
# Nodes 110 - 119
**.loRaNodes[36].**.initialZ = 1.5m
**.loRaNodes[37].**.initialX = -521.74m
**.loRaNodes[37].**.initialY = 1380.63m
**.loRaNodes[37].**.initialZ = 1.5m
**.loRaNodes[38].**.initialX = 875.53m
**.loRaNodes[38].**.initialY = 1160.64m
**.loRaNodes[38].**.initialZ = 1.5m
**.loRaNodes[39].**.initialX = 233.97m
**.loRaNodes[39].**.initialY = -974.97m
**.loRaNodes[39].**.initialZ = 1.5m
# Nodes 120 - 129
**.loRaNodes[40].**.initialX = 438.47m
**.loRaNodes[40].**.initialY = -2301.96m
**.loRaNodes[40].**.initialZ = 1.5m
**.loRaNodes[41].**.initialX = -1627.15m
**.loRaNodes[41].**.initialY = 2887.71m
**.loRaNodes[41].**.initialZ = 1.5m
**.loRaNodes[42].**.initialX = 711.27m
**.loRaNodes[42].**.initialY = -517.26m
**.loRaNodes[42].**.initialZ = 1.5m
**.loRaNodes[43].**.initialX = -3001.93m
# Nodes 130 - 139
**.loRaNodes[43].**.initialY = -2809.38m
**.loRaNodes[43].**.initialZ = 1.5m
**.loRaNodes[44].**.initialX = -3470.15m
**.loRaNodes[44].**.initialY = -926.16m
**.loRaNodes[44].**.initialZ = 1.5m
**.loRaNodes[45].**.initialX = -3983.20m
**.loRaNodes[45].**.initialY = 2367.72m
**.loRaNodes[45].**.initialZ = 1.5m
**.loRaNodes[46].**.initialX = 292.83m
**.loRaNodes[46].**.initialY = -1750.96m
# Nodes 140 - 149
**.loRaNodes[46].**.initialZ = 1.5m
**.loRaNodes[47].**.initialX = 2909.10m
**.loRaNodes[47].**.initialY = 3525.66m
**.loRaNodes[47].**.initialZ = 1.5m
**.loRaNodes[48].**.initialX = -3394.25m
**.loRaNodes[48].**.initialY = 1384.05m
**.loRaNodes[48].**.initialZ = 1.5m
**.loRaNodes[49].**.initialX = -219.54m
**.loRaNodes[49].**.initialY = -313.28m
**.loRaNodes[49].**.initialZ = 1.5m

# Position data loaded from: omnet_positions/07_propagation_positions.ini
# Total devices: 150, Gateways: 1

#================================================================================
# SCENARIO 07 CONFIGURATION NOTES
#================================================================================
# Propagation Model Comparison across different path loss models
#
# This baseline template will be processed by gen_omnet_scenarios.py to create
# multiple sub-scenario configurations with different parameter combinations.
#
# Key scenario 07 parameters:
# - Initial SF: 10 (DR2)
# - Initial TP: 14 dBm  
# - Packet interval: 600s (10 minutes)
# - Simulation time: 400 minutes
# - Path loss sigma: 4.5 dB
# - Devices: 100, Gateways: 1
# Appended by generator (initial SF)
**.loRaNodes[*].**initialLoRaSF = 10
# Appended by generator (initial TP)
**.loRaNodes[*].**initialLoRaTP = 14 dBm
# Appended by generator (sim-time-limit)
sim-time-limit = 120min
# Appended by generator (pathloss exponent)
**.pathLossExponent = 3.76
# Appended by generator (propagation model)
**.propagationModel = "logdistance"
# Appended by generator (S07 model)
# Propagation model hint: LogDistance(n=3.76)
# Appended by generator (maxDistance)
**.maxDistance = 5000m

[General]
network = flora.simulations.LoRaNetworkTest
sim-time-limit = 250min           # 250 minutes for collision
simtime-resolution = -11
repeat = 1

# Output - will be overridden by generator
output-vector-file = ../results/scenario-06-baseline-sf12-collision-s${runnumber}.vec
output-scalar-file = ../results/scenario-06-baseline-sf12-collision-s${runnumber}.sca
**.vector-recording = true

# RNG
rng-class = "cMersenneTwister"

#================================================================================
# NETWORK TOPOLOGY & COUNTS
#================================================================================
**.numberOfNodes = 50
**.numberOfGateways = 1

# Area (constraint area adjusted to match CSV coordinate ranges)
**.constraintAreaMinX = -995.16m
**.constraintAreaMinY = -984.42m
**.constraintAreaMinZ = 0m
**.constraintAreaMaxX = 987.62m
**.constraintAreaMaxY = 977.96m
**.constraintAreaMaxZ = 20m

# Mobility/placement flags
**.loRaNodes[*].**.initFromDisplayString = false
**.loRaGW[*].**.initFromDisplayString = false

#================================================================================
# PHY / CHANNEL CONFIGURATION
#================================================================================
**.radio.radioMediumModule = "LoRaMedium"
**.LoRaMedium.pathLossType = "LoRaLogNormalShadowing"
**.sigma = 6.0                      # Collision Analysis with high interference and packet collision scenarios - sigma 6.0dB
**.minInterferenceTime = 0s
**.alohaChannelModel = false
**.energyDetection = -110dBm
**.maxTransmissionDuration = 4s
LoRaNetworkTest.**.radio.separateTransmissionParts = false
LoRaNetworkTest.**.radio.separateReceptionParts = false

#================================================================================
# GATEWAY CONFIGURATION
#================================================================================
**.LoRaGWNic.radio.iAmGateway = true
**.loRaGW[*].numUdpApps = 1
**.loRaGW[0].packetForwarder.localPort = 2000
**.loRaGW[0].packetForwarder.destPort = 1000
**.loRaGW[0].packetForwarder.destAddresses = "networkServer"
**.loRaGW[0].packetForwarder.indexNumber = 0

#================================================================================
# NETWORK SERVER CONFIGURATION - WILL BE OVERRIDDEN BY GENERATOR
#================================================================================
**.networkServer.numApps = 1
**.networkServer.app[0].typename = "NetworkServerApp"
**.networkServer.app[0].destAddresses = "loRaGW[0]"
**.networkServer.app[0].destPort = 2000
**.networkServer.app[0].localPort = 1000

# ADR Configuration - DEFAULT (will be overridden per sub-scenario)
**.networkServer.**.evaluateADRinServer = false
#================================================================================
# NODE RADIO CONFIGURATION - SCENARIO 06 DEFAULTS
#================================================================================
# Default radio parameters: SF7, 14dBm, 125kHz, CR4/5
# disabled by sub-scenario: **.loRaNodes[*].**initialLoRaSF = 7
**.loRaNodes[*].**initialLoRaBW = 125 kHz
**.loRaNodes[*].**initialLoRaCR = 4
# disabled by sub-scenario: **.loRaNodes[*].**initialLoRaTP = 14dBm
**.loRaNodes[*].**.evaluateADRinNode = false
#================================================================================
# APPLICATION CONFIGURATION - SCENARIO 06 SPECIFIC
#================================================================================
**.loRaNodes[*].numApps = 1
**.loRaNodes[*].app[0].typename = "SimpleLoRaApp"

# Packet configuration for collision (180s intervals)
**.numberOfPacketsToSend = 0                      # infinite packets 
**.timeToFirstPacket = uniform(1s, 10s)           # spread first transmissions
**.timeToNextPacket = 180s                        # send every 3 minutes (matches ns-3)

#================================================================================
# OPTIONAL MODULES (ENERGY & DELAYS)
#================================================================================
**.ipv4Delayer.config = xmldoc("../cloudDelays.xml")
**.loRaNodes[*].LoRaNic.radio.energyConsumer.typename = "LoRaEnergyConsumer"
**.loRaNodes[*].**.energySourceModule = "^.IdealEpEnergyStorage"
**.loRaNodes[*].LoRaNic.radio.energyConsumer.configFile = xmldoc("../energyConsumptionParameters.xml")

#================================================================================
# NODE POSITIONS - LOADED FROM POSITION FILE
#================================================================================
# GATEWAY POSITIONS
#==================================================
**.loRaGW[0].**.initialX = 0.00m
**.loRaGW[0].**.initialY = 0.00m
**.loRaGW[0].**.initialZ = 15.0m

# END DEVICE POSITIONS
#==================================================
**.loRaNodes[0].**.initialX = 143.29m
**.loRaNodes[0].**.initialY = 21.10m
**.loRaNodes[0].**.initialZ = 1.5m
**.loRaNodes[1].**.initialX = 52.17m
**.loRaNodes[1].**.initialY = 58.77m
**.loRaNodes[1].**.initialZ = 1.5m
**.loRaNodes[2].**.initialX = -106.70m
**.loRaNodes[2].**.initialY = 15.30m
**.loRaNodes[2].**.initialZ = 1.5m
**.loRaNodes[3].**.initialX = -45.99m
# Nodes 10 - 19
**.loRaNodes[3].**.initialY = -125.26m
**.loRaNodes[3].**.initialZ = 1.5m
**.loRaNodes[4].**.initialX = -81.24m
**.loRaNodes[4].**.initialY = -24.26m
**.loRaNodes[4].**.initialZ = 1.5m
**.loRaNodes[5].**.initialX = 7.47m
**.loRaNodes[5].**.initialY = -122.76m
**.loRaNodes[5].**.initialZ = 1.5m
**.loRaNodes[6].**.initialX = -129.57m
**.loRaNodes[6].**.initialY = 6.18m
# Nodes 20 - 29
**.loRaNodes[6].**.initialZ = 1.5m
**.loRaNodes[7].**.initialX = 20.38m
**.loRaNodes[7].**.initialY = -137.25m
**.loRaNodes[7].**.initialZ = 1.5m
**.loRaNodes[8].**.initialX = 25.54m
**.loRaNodes[8].**.initialY = 71.86m
**.loRaNodes[8].**.initialZ = 1.5m
**.loRaNodes[9].**.initialX = -54.17m
**.loRaNodes[9].**.initialY = -18.27m
**.loRaNodes[9].**.initialZ = 1.5m
# Nodes 30 - 39
**.loRaNodes[10].**.initialX = -59.19m
**.loRaNodes[10].**.initialY = -60.90m
**.loRaNodes[10].**.initialZ = 1.5m
**.loRaNodes[11].**.initialX = 55.83m
**.loRaNodes[11].**.initialY = 46.45m
**.loRaNodes[11].**.initialZ = 1.5m
**.loRaNodes[12].**.initialX = -100.01m
**.loRaNodes[12].**.initialY = 53.49m
**.loRaNodes[12].**.initialZ = 1.5m
**.loRaNodes[13].**.initialX = 91.64m
# Nodes 40 - 49
**.loRaNodes[13].**.initialY = 35.85m
**.loRaNodes[13].**.initialZ = 1.5m
**.loRaNodes[14].**.initialX = -70.04m
**.loRaNodes[14].**.initialY = 43.18m
**.loRaNodes[14].**.initialZ = 1.5m
**.loRaNodes[15].**.initialX = 25.63m
**.loRaNodes[15].**.initialY = -60.27m
**.loRaNodes[15].**.initialZ = 1.5m
**.loRaNodes[16].**.initialX = -96.47m
**.loRaNodes[16].**.initialY = -19.05m
# Nodes 50 - 59
**.loRaNodes[16].**.initialZ = 1.5m
**.loRaNodes[17].**.initialX = 59.14m
**.loRaNodes[17].**.initialY = -5.65m
**.loRaNodes[17].**.initialZ = 1.5m
**.loRaNodes[18].**.initialX = 66.75m
**.loRaNodes[18].**.initialY = 96.85m
**.loRaNodes[18].**.initialZ = 1.5m
**.loRaNodes[19].**.initialX = 122.25m
**.loRaNodes[19].**.initialY = 57.05m
**.loRaNodes[19].**.initialZ = 1.5m
# Nodes 60 - 69
**.loRaNodes[20].**.initialX = 12.60m
**.loRaNodes[20].**.initialY = -63.82m
**.loRaNodes[20].**.initialZ = 1.5m
**.loRaNodes[21].**.initialX = 88.13m
**.loRaNodes[21].**.initialY = 47.97m
**.loRaNodes[21].**.initialZ = 1.5m
**.loRaNodes[22].**.initialX = -136.61m
**.loRaNodes[22].**.initialY = 48.73m
**.loRaNodes[22].**.initialZ = 1.5m
**.loRaNodes[23].**.initialX = -87.92m
# Nodes 70 - 79
**.loRaNodes[23].**.initialY = 92.85m
**.loRaNodes[23].**.initialZ = 1.5m
**.loRaNodes[24].**.initialX = -82.29m
**.loRaNodes[24].**.initialY = -103.63m
**.loRaNodes[24].**.initialZ = 1.5m
**.loRaNodes[25].**.initialX = -488.42m
**.loRaNodes[25].**.initialY = 22.00m
**.loRaNodes[25].**.initialZ = 1.5m
**.loRaNodes[26].**.initialX = -279.35m
**.loRaNodes[26].**.initialY = -407.94m
# Nodes 80 - 89
**.loRaNodes[26].**.initialZ = 1.5m
**.loRaNodes[27].**.initialX = 392.72m
**.loRaNodes[27].**.initialY = 238.75m
**.loRaNodes[27].**.initialZ = 1.5m
**.loRaNodes[28].**.initialX = 78.36m
**.loRaNodes[28].**.initialY = 477.96m
**.loRaNodes[28].**.initialZ = 1.5m
**.loRaNodes[29].**.initialX = 478.42m
**.loRaNodes[29].**.initialY = -141.54m
**.loRaNodes[29].**.initialZ = 1.5m
# Nodes 90 - 99
**.loRaNodes[30].**.initialX = -288.08m
**.loRaNodes[30].**.initialY = -357.10m
**.loRaNodes[30].**.initialZ = 1.5m
**.loRaNodes[31].**.initialX = -402.70m
**.loRaNodes[31].**.initialY = -201.94m
**.loRaNodes[31].**.initialZ = 1.5m
**.loRaNodes[32].**.initialX = 419.07m
**.loRaNodes[32].**.initialY = -242.50m
**.loRaNodes[32].**.initialZ = 1.5m
**.loRaNodes[33].**.initialX = -444.87m
# Nodes 100 - 109
**.loRaNodes[33].**.initialY = -140.95m
**.loRaNodes[33].**.initialZ = 1.5m
**.loRaNodes[34].**.initialX = 323.84m
**.loRaNodes[34].**.initialY = 342.10m
**.loRaNodes[34].**.initialZ = 1.5m
**.loRaNodes[35].**.initialX = -426.72m
**.loRaNodes[35].**.initialY = 165.57m
**.loRaNodes[35].**.initialZ = 1.5m
**.loRaNodes[36].**.initialX = 173.73m
**.loRaNodes[36].**.initialY = -424.16m
# Nodes 110 - 119
**.loRaNodes[36].**.initialZ = 1.5m
**.loRaNodes[37].**.initialX = -495.16m
**.loRaNodes[37].**.initialY = -29.98m
**.loRaNodes[37].**.initialZ = 1.5m
**.loRaNodes[38].**.initialX = -466.44m
**.loRaNodes[38].**.initialY = 51.45m
**.loRaNodes[38].**.initialZ = 1.5m
**.loRaNodes[39].**.initialX = 318.43m
**.loRaNodes[39].**.initialY = 357.63m
**.loRaNodes[39].**.initialZ = 1.5m
# Nodes 120 - 129
**.loRaNodes[40].**.initialX = -469.54m
**.loRaNodes[40].**.initialY = 146.30m
**.loRaNodes[40].**.initialZ = 1.5m
**.loRaNodes[41].**.initialX = -330.12m
**.loRaNodes[41].**.initialY = -375.18m
**.loRaNodes[41].**.initialZ = 1.5m
**.loRaNodes[42].**.initialX = 373.63m
**.loRaNodes[42].**.initialY = -291.30m
**.loRaNodes[42].**.initialZ = 1.5m
**.loRaNodes[43].**.initialX = 469.90m
# Nodes 130 - 139
**.loRaNodes[43].**.initialY = -39.24m
**.loRaNodes[43].**.initialZ = 1.5m
**.loRaNodes[44].**.initialX = 81.29m
**.loRaNodes[44].**.initialY = 462.37m
**.loRaNodes[44].**.initialZ = 1.5m
**.loRaNodes[45].**.initialX = -216.61m
**.loRaNodes[45].**.initialY = -421.38m
**.loRaNodes[45].**.initialZ = 1.5m
**.loRaNodes[46].**.initialX = 481.46m
**.loRaNodes[46].**.initialY = -114.83m
# Nodes 140 - 149
**.loRaNodes[46].**.initialZ = 1.5m
**.loRaNodes[47].**.initialX = -250.81m
**.loRaNodes[47].**.initialY = -384.51m
**.loRaNodes[47].**.initialZ = 1.5m
**.loRaNodes[48].**.initialX = -118.09m
**.loRaNodes[48].**.initialY = -484.42m
**.loRaNodes[48].**.initialZ = 1.5m
**.loRaNodes[49].**.initialX = 487.62m
**.loRaNodes[49].**.initialY = -9.60m
**.loRaNodes[49].**.initialZ = 1.5m

# Position data loaded from: omnet_positions/06_collision_positions.ini
# Total devices: 150, Gateways: 1

#================================================================================
# SCENARIO 06 CONFIGURATION NOTES
#================================================================================
# Collision Analysis with high interference and packet collision scenarios
#
# This baseline template will be processed by gen_omnet_scenarios.py to create
# multiple sub-scenario configurations with different parameter combinations.
#
# Key scenario 06 parameters:
# - Initial SF: 7 (DR5)
# - Initial TP: 14 dBm  
# - Packet interval: 180s (3 minutes)
# - Simulation time: 250 minutes
# - Path loss sigma: 6.0 dB
# - Devices: 150, Gateways: 1
# Appended by generator (initial SF)
**.loRaNodes[*].**initialLoRaSF = 10
# Appended by generator (initial TP)
**.loRaNodes[*].**initialLoRaTP = 14 dBm
# Appended by generator (sendInterval)
**.app[*].sendInterval = 150s
# Appended by generator (sim-time-limit (S06))
sim-time-limit = 300min

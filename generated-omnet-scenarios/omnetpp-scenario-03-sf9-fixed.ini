[General]
network = flora.simulations.LoRaNetworkTest
sim-time-limit = 300min           # 300 minutes for sf-impact
simtime-resolution = -11
repeat = 1

# Output - will be overridden by generator
output-vector-file = ../results/scenario-03-baseline-sf9-fixed-s${runnumber}.vec
output-scalar-file = ../results/scenario-03-baseline-sf9-fixed-s${runnumber}.sca
**.vector-recording = true

# RNG
rng-class = "cMersenneTwister"

#================================================================================
# NETWORK TOPOLOGY & COUNTS
#================================================================================
**.numberOfNodes = 50
**.numberOfGateways = 1
# Area (constraint area adjusted to match CSV coordinate ranges)
**.constraintAreaMinX = -1973.24m
**.constraintAreaMinY = -1971.71m
**.constraintAreaMinZ = 0m
**.constraintAreaMaxX = 1698.03m
**.constraintAreaMaxY = 1953.58m
**.constraintAreaMaxZ = 20m

# Mobility/placement flags
**.loRaNodes[*].**.initFromDisplayString = false
**.loRaGW[*].**.initFromDisplayString = false

#================================================================================
# PHY / CHANNEL CONFIGURATION
#================================================================================
**.radio.radioMediumModule = "LoRaMedium"
**.LoRaMedium.pathLossType = "LoRaLogNormalShadowing"
**.sigma = 4.0                      # Spreading Factor Impact Analysis on network performance - sigma 4.0dB
**.minInterferenceTime = 0s
**.alohaChannelModel = false
**.energyDetection = -110dBm
**.maxTransmissionDuration = 4s
LoRaNetworkTest.**.radio.separateTransmissionParts = false
LoRaNetworkTest.**.radio.separateReceptionParts = false

#================================================================================
# GATEWAY CONFIGURATION
#================================================================================
**.LoRaGWNic.radio.iAmGateway = true
**.loRaGW[*].numUdpApps = 1
**.loRaGW[0].packetForwarder.localPort = 2000
**.loRaGW[0].packetForwarder.destPort = 1000
**.loRaGW[0].packetForwarder.destAddresses = "networkServer"
**.loRaGW[0].packetForwarder.indexNumber = 0

#================================================================================
# NETWORK SERVER CONFIGURATION - WILL BE OVERRIDDEN BY GENERATOR
#================================================================================
**.networkServer.numApps = 1
**.networkServer.app[0].typename = "NetworkServerApp"
**.networkServer.app[0].destAddresses = "loRaGW[0]"
**.networkServer.app[0].destPort = 2000
**.networkServer.app[0].localPort = 1000

# ADR Configuration - DEFAULT (will be overridden per sub-scenario)
**.networkServer.**.evaluateADRinServer = false
#================================================================================
# NODE RADIO CONFIGURATION - SCENARIO 03 DEFAULTS
#================================================================================
# Default radio parameters: SF10, 14dBm, 125kHz, CR4/5
# disabled by sub-scenario: **.loRaNodes[*].**initialLoRaSF = 10
**.loRaNodes[*].**initialLoRaBW = 125 kHz
**.loRaNodes[*].**initialLoRaCR = 4
# disabled by sub-scenario: **.loRaNodes[*].**initialLoRaTP = 14dBm
**.loRaNodes[*].**.evaluateADRinNode = false
#================================================================================
# APPLICATION CONFIGURATION - SCENARIO 03 SPECIFIC
#================================================================================
**.loRaNodes[*].numApps = 1
**.loRaNodes[*].app[0].typename = "SimpleLoRaApp"

# Packet configuration for sf-impact (600s intervals)
**.numberOfPacketsToSend = 0                      # infinite packets 
**.timeToFirstPacket = uniform(1s, 10s)           # spread first transmissions
**.timeToNextPacket = 600s                        # send every 10 minutes (matches ns-3)

#================================================================================
# OPTIONAL MODULES (ENERGY & DELAYS)
#================================================================================
**.ipv4Delayer.config = xmldoc("../cloudDelays.xml")
**.loRaNodes[*].LoRaNic.radio.energyConsumer.typename = "LoRaEnergyConsumer"
**.loRaNodes[*].**.energySourceModule = "^.IdealEpEnergyStorage"
**.loRaNodes[*].LoRaNic.radio.energyConsumer.configFile = xmldoc("../energyConsumptionParameters.xml")

#================================================================================
# NODE POSITIONS - LOADED FROM POSITION FILE
#================================================================================
# GATEWAY POSITIONS
#==================================================
**.loRaGW[0].**.initialX = 0.00m
**.loRaGW[0].**.initialY = 0.00m
**.loRaGW[0].**.initialZ = 15.0m

# END DEVICE POSITIONS
#==================================================
**.loRaNodes[0].**.initialX = 26.37m
**.loRaNodes[0].**.initialY = 360.31m
**.loRaNodes[0].**.initialZ = 1.5m
**.loRaNodes[1].**.initialX = 956.84m
**.loRaNodes[1].**.initialY = 833.36m
**.loRaNodes[1].**.initialZ = 1.5m
**.loRaNodes[2].**.initialX = -472.88m
**.loRaNodes[2].**.initialY = 1234.86m
**.loRaNodes[2].**.initialZ = 1.5m
**.loRaNodes[3].**.initialX = -180.53m
# Nodes 10 - 19
**.loRaNodes[3].**.initialY = -79.42m
**.loRaNodes[3].**.initialZ = 1.5m
**.loRaNodes[4].**.initialX = 234.82m
**.loRaNodes[4].**.initialY = 149.68m
**.loRaNodes[4].**.initialZ = 1.5m
**.loRaNodes[5].**.initialX = -873.48m
**.loRaNodes[5].**.initialY = -591.91m
**.loRaNodes[5].**.initialZ = 1.5m
**.loRaNodes[6].**.initialX = -328.94m
**.loRaNodes[6].**.initialY = -1457.79m
# Nodes 20 - 29
**.loRaNodes[6].**.initialZ = 1.5m
**.loRaNodes[7].**.initialX = -1016.91m
**.loRaNodes[7].**.initialY = -275.83m
**.loRaNodes[7].**.initialZ = 1.5m
**.loRaNodes[8].**.initialX = 740.55m
**.loRaNodes[8].**.initialY = 195.14m
**.loRaNodes[8].**.initialZ = 1.5m
**.loRaNodes[9].**.initialX = -117.61m
**.loRaNodes[9].**.initialY = -716.97m
**.loRaNodes[9].**.initialZ = 1.5m
# Nodes 30 - 39
**.loRaNodes[10].**.initialX = 2.12m
**.loRaNodes[10].**.initialY = 723.16m
**.loRaNodes[10].**.initialZ = 1.5m
**.loRaNodes[11].**.initialX = -302.63m
**.loRaNodes[11].**.initialY = 894.64m
**.loRaNodes[11].**.initialZ = 1.5m
**.loRaNodes[12].**.initialX = 729.50m
**.loRaNodes[12].**.initialY = 1206.78m
**.loRaNodes[12].**.initialZ = 1.5m
**.loRaNodes[13].**.initialX = 801.68m
# Nodes 40 - 49
**.loRaNodes[13].**.initialY = 1336.01m
**.loRaNodes[13].**.initialZ = 1.5m
**.loRaNodes[14].**.initialX = 254.16m
**.loRaNodes[14].**.initialY = 1289.58m
**.loRaNodes[14].**.initialZ = 1.5m
**.loRaNodes[15].**.initialX = 60.85m
**.loRaNodes[15].**.initialY = -453.78m
**.loRaNodes[15].**.initialZ = 1.5m
**.loRaNodes[16].**.initialX = -493.18m
**.loRaNodes[16].**.initialY = -278.91m
# Nodes 50 - 59
**.loRaNodes[16].**.initialZ = 1.5m
**.loRaNodes[17].**.initialX = -1105.20m
**.loRaNodes[17].**.initialY = 1295.47m
**.loRaNodes[17].**.initialZ = 1.5m
**.loRaNodes[18].**.initialX = 357.54m
**.loRaNodes[18].**.initialY = 608.01m
**.loRaNodes[18].**.initialZ = 1.5m
**.loRaNodes[19].**.initialX = -175.22m
**.loRaNodes[19].**.initialY = 695.75m
**.loRaNodes[19].**.initialZ = 1.5m
# Nodes 60 - 69
**.loRaNodes[20].**.initialX = -624.12m
**.loRaNodes[20].**.initialY = 161.24m
**.loRaNodes[20].**.initialZ = 1.5m
**.loRaNodes[21].**.initialX = -482.69m
**.loRaNodes[21].**.initialY = 299.48m
**.loRaNodes[21].**.initialZ = 1.5m
**.loRaNodes[22].**.initialX = 687.29m
**.loRaNodes[22].**.initialY = 1072.84m
**.loRaNodes[22].**.initialZ = 1.5m
**.loRaNodes[23].**.initialX = -1008.35m
# Nodes 70 - 79
**.loRaNodes[23].**.initialY = 412.44m
**.loRaNodes[23].**.initialZ = 1.5m
**.loRaNodes[24].**.initialX = 730.13m
**.loRaNodes[24].**.initialY = -1471.71m
**.loRaNodes[24].**.initialZ = 1.5m
**.loRaNodes[25].**.initialX = -348.95m
**.loRaNodes[25].**.initialY = -697.71m
**.loRaNodes[25].**.initialZ = 1.5m
**.loRaNodes[26].**.initialX = -857.95m
**.loRaNodes[26].**.initialY = 61.03m
# Nodes 80 - 89
**.loRaNodes[26].**.initialZ = 1.5m
**.loRaNodes[27].**.initialX = 1073.17m
**.loRaNodes[27].**.initialY = -1110.55m
**.loRaNodes[27].**.initialZ = 1.5m
**.loRaNodes[28].**.initialX = -678.83m
**.loRaNodes[28].**.initialY = -32.43m
**.loRaNodes[28].**.initialZ = 1.5m
**.loRaNodes[29].**.initialX = 296.71m
**.loRaNodes[29].**.initialY = 290.78m
**.loRaNodes[29].**.initialZ = 1.5m
# Nodes 90 - 99
**.loRaNodes[30].**.initialX = 1121.87m
**.loRaNodes[30].**.initialY = 372.72m
**.loRaNodes[30].**.initialZ = 1.5m
**.loRaNodes[31].**.initialX = 86.08m
**.loRaNodes[31].**.initialY = -1048.20m
**.loRaNodes[31].**.initialZ = 1.5m
**.loRaNodes[32].**.initialX = -434.07m
**.loRaNodes[32].**.initialY = -951.69m
**.loRaNodes[32].**.initialZ = 1.5m
**.loRaNodes[33].**.initialX = -144.17m
# Nodes 100 - 109
**.loRaNodes[33].**.initialY = 1212.62m
**.loRaNodes[33].**.initialZ = 1.5m
**.loRaNodes[34].**.initialX = -859.51m
**.loRaNodes[34].**.initialY = 610.96m
**.loRaNodes[34].**.initialZ = 1.5m
**.loRaNodes[35].**.initialX = -1473.24m
**.loRaNodes[35].**.initialY = 535.11m
**.loRaNodes[35].**.initialZ = 1.5m
**.loRaNodes[36].**.initialX = -910.45m
**.loRaNodes[36].**.initialY = 263.45m
# Nodes 110 - 119
**.loRaNodes[36].**.initialZ = 1.5m
**.loRaNodes[37].**.initialX = -345.76m
**.loRaNodes[37].**.initialY = 596.64m
**.loRaNodes[37].**.initialZ = 1.5m
**.loRaNodes[38].**.initialX = 541.11m
**.loRaNodes[38].**.initialY = -416.45m
**.loRaNodes[38].**.initialZ = 1.5m
**.loRaNodes[39].**.initialX = 153.82m
**.loRaNodes[39].**.initialY = 266.39m
**.loRaNodes[39].**.initialZ = 1.5m
# Nodes 120 - 129
**.loRaNodes[40].**.initialX = 568.28m
**.loRaNodes[40].**.initialY = 895.76m
**.loRaNodes[40].**.initialZ = 1.5m
**.loRaNodes[41].**.initialX = -1329.15m
**.loRaNodes[41].**.initialY = -1446.01m
**.loRaNodes[41].**.initialZ = 1.5m
**.loRaNodes[42].**.initialX = -162.30m
**.loRaNodes[42].**.initialY = 1453.58m
**.loRaNodes[42].**.initialZ = 1.5m
**.loRaNodes[43].**.initialX = 777.80m
# Nodes 130 - 139
**.loRaNodes[43].**.initialY = -236.26m
**.loRaNodes[43].**.initialZ = 1.5m
**.loRaNodes[44].**.initialX = -244.08m
**.loRaNodes[44].**.initialY = 802.33m
**.loRaNodes[44].**.initialZ = 1.5m
**.loRaNodes[45].**.initialX = 664.19m
**.loRaNodes[45].**.initialY = -678.62m
**.loRaNodes[45].**.initialZ = 1.5m
**.loRaNodes[46].**.initialX = -889.22m
**.loRaNodes[46].**.initialY = 891.62m
# Nodes 140 - 149
**.loRaNodes[46].**.initialZ = 1.5m
**.loRaNodes[47].**.initialX = 1198.03m
**.loRaNodes[47].**.initialY = -890.14m
**.loRaNodes[47].**.initialZ = 1.5m
**.loRaNodes[48].**.initialX = 68.44m
**.loRaNodes[48].**.initialY = -873.93m
**.loRaNodes[48].**.initialZ = 1.5m
**.loRaNodes[49].**.initialX = 1105.67m
**.loRaNodes[49].**.initialY = -1378.86m
**.loRaNodes[49].**.initialZ = 1.5m

# Position data loaded from: omnet_positions/03_sf_impact_positions.ini
# Total devices: 150, Gateways: 1

#================================================================================
# SCENARIO 03 CONFIGURATION NOTES
#================================================================================
# Spreading Factor Impact Analysis on network performance
#
# This baseline template will be processed by gen_omnet_scenarios.py to create
# multiple sub-scenario configurations with different parameter combinations.
#
# Key scenario 03 parameters:
# - Initial SF: 10 (DR2)
# - Initial TP: 14 dBm  
# - Packet interval: 600s (10 minutes)
# - Simulation time: 300 minutes
# - Path loss sigma: 4.0 dB
# - Devices: 100, Gateways: 1
# Appended by generator (initial SF)
**.loRaNodes[*].**initialLoRaSF = 10
# Appended by generator (initial TP)
**.loRaNodes[*].**initialLoRaTP = 14 dBm
# Appended by generator (sim-time-limit)
sim-time-limit = 200min
# Appended by generator (sendInterval)
**.app[*].sendInterval = 300s
